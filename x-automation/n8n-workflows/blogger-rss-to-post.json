{
  "name": "Blogger RSS to Post - Auto Curate",
  "nodes": [
    {
      "parameters": {
        "rule": {
          "interval": [
            {
              "field": "cronExpression",
              "expression": "0 */3 * * *"
            }
          ]
        }
      },
      "id": "schedule-trigger",
      "name": "Every 3 Hours Trigger",
      "type": "n8n-nodes-base.scheduleTrigger",
      "typeVersion": 1.2,
      "position": [240, 300]
    },
    {
      "parameters": {
        "url": "={{ $env.RSS_FEED_URL || 'https://feeds.feedburner.com/TechCrunch' }}"
      },
      "id": "fetch-rss",
      "name": "Fetch RSS Feed",
      "type": "n8n-nodes-base.rssFeedRead",
      "typeVersion": 1,
      "position": [460, 300]
    },
    {
      "parameters": {
        "batchSize": 1,
        "options": {}
      },
      "id": "limit-items",
      "name": "Take First Item",
      "type": "n8n-nodes-base.limit",
      "typeVersion": 1,
      "position": [680, 300]
    },
    {
      "parameters": {
        "jsCode": "// RSS í”¼ë“œ ì•„ì´í…œì„ ë¸”ë¡œê·¸ í¬ìŠ¤íŠ¸ë¡œ ë³€í™˜\nconst item = $input.first().json;\n\nconst title = item.title || 'RSS íë ˆì´ì…˜';\nconst link = item.link || item.url || '';\nconst description = item.contentSnippet || item.description || item.summary || '';\nconst pubDate = item.pubDate || item.isoDate || new Date().toISOString();\nconst source = item.creator || item.author || 'RSS Feed';\nconst categories = item.categories || [];\n\n// HTML ì½˜í…ì¸  ìƒì„±\nconst content = `\n<article>\n  <h2>ğŸ“° ${title}</h2>\n  <p class=\"meta\">ì¶œì²˜: ${source} | ë‚ ì§œ: ${new Date(pubDate).toLocaleDateString('ko-KR')}</p>\n  \n  <div class=\"summary\">\n    <h3>ìš”ì•½</h3>\n    <p>${description}</p>\n  </div>\n  \n  <div class=\"commentary\">\n    <h3>ğŸ’¡ ì½”ë©˜íŠ¸</h3>\n    <p>ì´ ê¸°ì‚¬ëŠ” ìµœì‹  ê¸°ìˆ  íŠ¸ë Œë“œë¥¼ ì˜ ë³´ì—¬ì£¼ê³  ìˆìŠµë‹ˆë‹¤. íŠ¹íˆ ì£¼ëª©í•  ì ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤:</p>\n    <ul>\n      <li>ê¸°ìˆ  ë°œì „ì˜ ì†ë„ì™€ ë°©í–¥</li>\n      <li>ì‹¤ë¬´ì— ì ìš© ê°€ëŠ¥í•œ ì¸ì‚¬ì´íŠ¸</li>\n      <li>í–¥í›„ ì „ë§ê³¼ ì˜í–¥</li>\n    </ul>\n  </div>\n  \n  <p>ğŸ”— <a href=\"${link}\" target=\"_blank\" rel=\"noopener\">ì›ë¬¸ ë³´ê¸°</a></p>\n  <hr>\n  <p><em>ì´ í¬ìŠ¤íŠ¸ëŠ” n8n RSS ìë™í™”ë¥¼ í†µí•´ íë ˆì´ì…˜ë˜ì—ˆìŠµë‹ˆë‹¤.</em></p>\n</article>\n`;\n\nconst labels = ['RSSíë ˆì´ì…˜', 'ê¸°ìˆ ë‰´ìŠ¤', ...categories.slice(0, 3)];\n\nreturn [{\n  json: {\n    title: `[íë ˆì´ì…˜] ${title}`,\n    content: content,\n    labels: labels,\n    originalUrl: link,\n    source: source\n  }\n}];"
      },
      "id": "transform-to-post",
      "name": "Transform to Blog Post",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [900, 300]
    },
    {
      "parameters": {
        "method": "GET",
        "url": "=https://www.googleapis.com/blogger/v3/blogs/{{ $env.BLOGGER_BLOG_ID }}/posts/search",
        "authentication": "predefinedCredentialType",
        "nodeCredentialType": "googleOAuth2Api",
        "sendQuery": true,
        "queryParameters": {
          "parameters": [
            {
              "name": "q",
              "value": "={{ $json.title.substring(0, 50) }}"
            }
          ]
        },
        "options": {}
      },
      "id": "check-duplicate",
      "name": "Check Duplicate",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [1120, 300],
      "credentials": {
        "googleOAuth2Api": {
          "id": "YOUR_GOOGLE_OAUTH2_CREDENTIAL_ID",
          "name": "Google Blogger OAuth2"
        }
      }
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": false,
            "leftValue": "",
            "typeValidation": "strict"
          },
          "conditions": [
            {
              "id": "no-duplicates",
              "leftValue": "={{ $json.items ? $json.items.length : 0 }}",
              "rightValue": 0,
              "operator": {
                "type": "number",
                "operation": "equals"
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "id": "is-new-post",
      "name": "Is New Post?",
      "type": "n8n-nodes-base.if",
      "typeVersion": 2,
      "position": [1340, 300]
    },
    {
      "parameters": {
        "method": "POST",
        "url": "=https://www.googleapis.com/blogger/v3/blogs/{{ $env.BLOGGER_BLOG_ID }}/posts",
        "authentication": "predefinedCredentialType",
        "nodeCredentialType": "googleOAuth2Api",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={\n  \"kind\": \"blogger#post\",\n  \"title\": {{ JSON.stringify($node['Transform to Blog Post'].json.title) }},\n  \"content\": {{ JSON.stringify($node['Transform to Blog Post'].json.content) }},\n  \"labels\": {{ JSON.stringify($node['Transform to Blog Post'].json.labels) }}\n}",
        "options": {}
      },
      "id": "publish-to-blogger",
      "name": "Publish to Blogger",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [1560, 200],
      "credentials": {
        "googleOAuth2Api": {
          "id": "YOUR_GOOGLE_OAUTH2_CREDENTIAL_ID",
          "name": "Google Blogger OAuth2"
        }
      }
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "skip-msg",
              "name": "message",
              "value": "ì¤‘ë³µ í¬ìŠ¤íŠ¸ - ìŠ¤í‚µë¨",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "id": "skip-duplicate",
      "name": "Skip (Duplicate)",
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [1560, 400]
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "result-msg",
              "name": "message",
              "value": "=í¬ìŠ¤íŠ¸ ë°œí–‰ ì™„ë£Œ: {{ $json.title || $json.url }}",
              "type": "string"
            },
            {
              "id": "result-url",
              "name": "url",
              "value": "={{ $json.url || 'N/A' }}",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "id": "log-success",
      "name": "Log Success",
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [1780, 200]
    }
  ],
  "connections": {
    "10AM & 6PM Trigger": {
      "main": [
        [
          {
            "node": "Fetch RSS Feed",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Fetch RSS Feed": {
      "main": [
        [
          {
            "node": "Take First Item",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Take First Item": {
      "main": [
        [
          {
            "node": "Transform to Blog Post",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Transform to Blog Post": {
      "main": [
        [
          {
            "node": "Check Duplicate",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Check Duplicate": {
      "main": [
        [
          {
            "node": "Is New Post?",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Is New Post?": {
      "main": [
        [
          {
            "node": "Publish to Blogger",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Skip (Duplicate)",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Publish to Blogger": {
      "main": [
        [
          {
            "node": "Log Success",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "settings": {
    "executionOrder": "v1",
    "saveManualExecutions": true
  },
  "staticData": null,
  "tags": [
    {
      "name": "blogger",
      "id": "1"
    },
    {
      "name": "rss",
      "id": "2"
    },
    {
      "name": "curation",
      "id": "3"
    }
  ],
  "triggerCount": 1,
  "pinData": {}
}
